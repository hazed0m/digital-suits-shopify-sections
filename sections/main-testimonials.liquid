{% assign section_title = section.settings.section_title %}
{% assign testimonial_blocks = section.blocks %}
{% assign block_size = testimonial_blocks | size %}

<section class="section" id="main-testimonials">
    <div class="main-testimonials">
        {% if section_title != blank %}
            <h2 class="main-testimonials__title title">{{ section_title }}</h2>
        {% endif %}
        {% if block_size > 0 %}
            <swiper-container class="main-testimonials__list" testimonials-list init="false">
                {% for testimonial_block in testimonial_blocks %}
                    {% render 'main-testimonial-item', block: testimonial_block.settings %}
                {% endfor %}
            </swiper-container>
        {% endif %}
        <div class="swiper-pagination"></div>
        <div class="swiper-navigation-prev">
            <svg width="11" height="19" viewBox="0 0 11 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.846041 9.42333C0.846041 9.73352 0.961472 10.0437 1.19185 10.2802L8.44489 17.7221C8.90628 18.1955 9.65433 18.1955 10.1155 17.7221C10.5767 17.2489 10.5767 16.4815 10.1155 16.008L3.69763 9.42333L10.1153 2.83857C10.5765 2.36517 10.5765 1.59786 10.1153 1.12468C9.65411 0.651047 8.90605 0.651047 8.44467 1.12468L1.19162 8.5665C0.961209 8.80311 0.846041 9.11326 0.846041 9.42333Z" fill="#00AFA9"/>
            </svg>
        </div>
        <div class="swiper-navigation-next">
            <svg width="11" height="19" viewBox="0 0 11 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.154 9.42333C10.154 9.73352 10.0385 10.0437 9.80815 10.2802L2.55511 17.7221C2.09372 18.1955 1.34567 18.1955 0.884472 17.7221C0.423275 17.2489 0.423275 16.4815 0.884472 16.008L7.30237 9.42333L0.884696 2.83857C0.423499 2.36517 0.423499 1.59786 0.884696 1.12468C1.34589 0.651047 2.09395 0.651047 2.55533 1.12468L9.80838 8.5665C10.0388 8.80311 10.154 9.11326 10.154 9.42333Z" fill="#00AFA9"/>
            </svg>
        </div>
    </div>
</section>

{% schema %}
{
  "name": "t:sections.main-testimonials.name",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "inline_richtext",
      "id": "section_title",
      "default": "Title",
      "label": "t:sections.main-testimonials.settings.title.label"
    }
  ],
  "blocks": [
    {
      "type": "Testimonial",
      "name": "t:sections.main-testimonials.presets.name2",
      "settings": [
        {
          "type": "image_picker",
          "id": "testimonial_photo",
          "label": "t:sections.multirow.blocks.row.settings.image.label"
        },
        {
          "type": "inline_richtext",
          "id": "testimonial_title",
          "default": "Title",
          "label": "t:sections.main-testimonials.settings.title.label"
        },
        {
          "type": "number",
          "id": "testimonial_rating",
          "label": "t:sections.main-testimonials.settings.rating.label"
        },
        {
          "type": "richtext",
          "id": "testimonial_text",
          "label": "t:sections.main-testimonials.settings.text.label"
        },
        {
          "type": "text",
          "id": "testimonial_author",
          "label": "t:sections.main-testimonials.settings.author.label"
        },
        {
          "type": "product",
          "id": "testimonial_product",
          "label": "t:sections.main-testimonials.settings.product.label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.main-testimonials.presets.name"
    }
  ]
}
{% endschema %}